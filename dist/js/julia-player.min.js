!function(e,n){"function"==typeof define&&define.amd?define(["exports","jquery"],function(t,o){n(e.commonJsStrictGlobal=t,o)}):"object"==typeof exports&&"string"!=typeof exports.nodeName?n(exports,require("jquery")):n(e.commonJsStrictGlobal={},e.jQuery)}(this,function(e,n){var o=function(e){var t=this;e="undefined"==typeof e?{}:e;var o=Math.floor(1e7*Math.random()+1);return t.options={source:!1,sources:{},autoplay:!1,volume:25,element:n("video"),muted:!1,width:512,height:288,debug:!1,debugPlayback:!1,force:!1,live:!1,thumbs:!1,responsive:!0,pauseOnBlur:!1,dimensions:[[1920,1080],[1280,720],[960,540],[640,360],[512,288]],pauseOnClick:!1,poster:"",hlsConfig:{debug:!1},dashConfig:{},suggest:[],suggestLimit:4,suggestTimeout:1e4,require:[],theme:"default",i18n:{liveText:"Live"},onTime:{},triggerHls:{},triggerDash:{},onPlay:!1,onPause:!1,onStop:!1,onPosition:!1,onSuggest:!1},t.env={element:t.options.element,instance:{},fullscreenFrame:!1,ID:o,api:{},model:{container:"",shield:"",toolbar:"",poster:"",suggest:"",preloader:"",buttons:{bigPlay:"",play:"",sound:"",fullscreen:""},ranges:{volume:"",progress:""},sliders:{volume:"",progress:""},panels:{live:"",currentTime:"",duration:""},labels:{goto:""},menus:{}},isLive:!1,hls:!1,dash:!1,canPlayMedia:"",canPlayMediaString:"",isHls:!1,isDash:!1,useHlsLib:!1,source:"",duration:0,apiOk:!1,thumbsOk:!0,onTimeRised:[],seeking:!1,dimensions:{width:0,height:0},started:!1,publicApi:{},suggestPointer:0,suggestClicked:!1,progressStep:.01,version:"1.1.3",memory:{}},t.Base={},t.Base.debug=function(e){if(t.options.debug===!0&&window.console)for(d in e)console.log(" - [instance: "+t.env.ID+"] "+d+" ["+typeof e[d]+"]",e[d])},t.Base.stats=function(){return{isDash:t.env.isDash,isHls:t.env.isHls,useHlsLib:t.env.useHlsLib,live:t.env.isLive,canPlayMediaString:t.env.canPlayMediaString,canPlayMedia:t.env.canPlayMedia}},"undefined"!=typeof e.dimensions&&(t.options.dimensions=e.dimensions),n.extend(!0,t.options,e),t.options.debug===!0&&window.console&&console.info("=== Julia console debug start, instance "+t.env.ID+" ==="),t.Ui=new t._Ui(t),t.Api=new t._Api(t),t.Support=new t._Support(t),t.Controls=new t._Controls(t),t.Timecode=new t._Timecode(t),t.Events=new t._Events(t),t.Persist=new t._Persist(t),t.Fullscreen=new t._Fullscreen(t),t.Callback=new t._Callback(t),t.Suggest=new t._Suggest(t),t.Inject=new t._Inject(t),t.Require=new t._Require(t),t.Boot=new t._Boot(t),t.Loader=new t._Loader(t),t.Require.js(t.options.require),n("body").on("julia.plugins-loaded julia.no-plugins","#julia-player-"+t.env.ID,function(e){"plugins-loaded"==e.namespace?t.Base.debug({"Required plugins loaded":[e.type,e.namespace]}):t.Base.debug({"No plugins required":[e.type,e.namespace]}),t.Ui.state(t.env.model.preloader,"on",""),t.env.model.buttons.bigPlay.show(),t.options.autoplay===!0&&t.Support.isMobile()===!1&&t.env.model.buttons.bigPlay.click()}),n("body").on("julia.ui-ready","#julia-player-"+t.env.ID,function(e){t.env.model.sliders.progress=new t._Slider(t,{element:n("#julia-toolbar-"+t.env.ID+">div.julia-progress>input.julia-range"),eventRise:"progress-change"}),t.env.model.sliders.progress.init(),t.env.model.sliders.volume=new t._Slider(t,{element:n("#julia-toolbar-"+t.env.ID+">div.julia-volume>input.julia-range"),eventRise:"volume-change"}),t.env.model.sliders.volume.init(),t.Support.resize(),t.Events.ui(),t.Events.native(),volume=t.Persist.get("julia-player-volume"),muted=t.Persist.get("julia-player-muted"),"undefined"!=typeof volume&&volume.length>0&&(t.options.volume=parseInt(volume),(t.options.volume>100||t.options.volume<0)&&(t.options.volume=25),t.Support.isMobile()===!0&&(t.options.volume=100)),"undefined"!=typeof muted&&muted.length>0&&(t.options.muted="false"!=muted)}),t.Boot.run(),t.env.publicApi={options:t.options,shield:t.env.model.shield,toolbar:t.env.model.toolbar,api:t.env.api,ID:t.env.ID,dimensions:t.env.dimensions,Controls:t.Controls,Extend:t.Base.extend,Support:t.Support,Timecode:t.Timecode,Require:t.Require,Inject:t.Inject,stats:t.Base.stats},t.env.publicApi},a=function(e){e="undefined"==typeof e?{}:e;var t={sources:{},root:n("body")},o=Math.floor(1e7*Math.random()+1);n.extend(!0,t,e);var i=function(e){var n=function(e){return!!(e instanceof jQuery&&e.length||e instanceof HTMLElement)};if(e instanceof HTMLCollection&&e.length){for(var t=0,o=e.length;t<o;t++)if(!n(e[t]))return!1;return!0}return n(e)},s=function(e){var t=n("<video />");return"string"==typeof e&&t.attr("src",e),"object"!=typeof e||i(e)||(e.hasOwnProperty("src")&&t.attr("src",e.src),e.hasOwnProperty("poster")&&t.attr("poster",e.poster)),t.css({display:"none"}),t};_collection=n('<div class="---julia-virtual-media-gallery-'+o+'--- julia-virtual-gallery" style="display: none;" />');for(index in t.sources)_item=s(t.sources[index]),_collection.append(_item);return t.root.append(_collection),result=_collection.find("video").juliaPlayer(t),result};o.prototype._Api=function(e){var t=this;t.shadowApi=!1,t.canvas=!1,t.context=!1,t.imageThumb=!1,t.dash=!1,t.hls=!1,t.imageCache={},t.create=function(){n("#julia-api-"+e.env.ID).remove(),apiElement=n('<video class="julia-video" id="julia-api-'+e.env.ID+'" preload="auto" webkit-playsinline="true" playsinline="true"></video>'),e.env.instance.prepend(apiElement),e.env.api=document.getElementById("julia-api-"+e.env.ID),e.env.api.controls=!1,e.env.apiOk=!0,"function"==typeof makeVideoPlayableInline&&makeVideoPlayableInline(e.env.api),e.Base.debug({apiId:e.env.ID,api:e.env.api})},t.source=function(){protoSource=e.env.element.prop("src")?e.env.element.prop("src"):e.env.element.find("source").prop("src"),e.env.source=e.options.source&&e.options.source.length>0?e.options.source:protoSource,e.env.isHls=e.env.source.indexOf(".m3u8")!=-1,"hls"===e.options.force&&(e.env.isHls=!0),e.env.isDash=!e.env.source.indexOf(".mpd")&&e.env.source.indexOf(".ism")!=-1,"dash"===e.options.force&&(e.env.isDash=!0),e.Base.debug({"Api source isHls":e.env.isHls,"Api source isDash":e.env.isDash,Source:e.env.source}),e.env.model.poster=e.options.poster&&e.options.poster.length>0?e.options.poster:e.env.element.prop("poster"),e.Ui.posterSet()},t.allowStart=function(n){e.Controls.press("setDuration",{duration:e.Timecode.toHuman(e.env.duration)}),e.options.muted===!0?e.Controls.press("sound-off"):(e.Controls.press("sound-on"),e.Controls.press("volume",{volume:e.options.volume})),e.Base.debug({eventType:n.type,duration:e.env.api.duration,readyState:e.env.api.readyState})},t.canplaythrough=function(){e.env.started===!1&&(e.env.api.readyState>=3||e.Support.isMobile()===!0&&e.env.api.readyState>=2?t.allowStart({type:"origin.Events.canplaythrough"}):setTimeout(function(){t.canplaythrough()},100))},t.dim=function(n){var t=[e.env.instance.width(),e.env.instance.height()],o=t[1]/t[0],i=[128,128*o];return i},t.thumb=function(n){var o=t.dim(i),s=Math.floor(o[0]),a=Math.floor(o[1]);t.shadowApi===!1&&(t.imageCache={},e.env.model.labels.goto.css({width:o[0]+10+"px",height:40+o[1]+10+"px",overflow:"hidden"}),t.canvas=document.createElement("canvas"),t.canvas.width=s,t.canvas.height=a,t.context=t.canvas.getContext("2d"),t.imageThumb=document.createElement("img"),t.imageThumb.style.width=s+"px",t.imageThumb.style.height=a+"px",e.env.model.labels.goto.find("img").remove(),e.env.model.labels.goto.append(t.imageThumb),t.shadowApi=e.env.api.cloneNode(!0),t.shadowApi.width=s,t.shadowApi.height=a,t.shadowApi.preload="auto",e.env.useHlsLib===!0?t.hls=new Hls(e.options.hlsConfig):e.env.isDash===!0||(t.shadowApi.src=e.env.source),e.env.useHlsLib===!0?(t.hls.autoLevelCapping=-1,t.hls.attachMedia(t.shadowApi),t.hls.loadSource(e.env.source)):e.env.isDash===!0?(t.dash=dashjs.MediaPlayer().create(),t.dash.initialize(),t.dash.attachView(t.shadowApi),t.dash.attachSource(e.env.source),t.dash.setAutoPlay(!1),t.dash.getDebug().setLogToBrowserConsole(!1)):t.shadowApi.load()),e.env.thumbsOk=!1,index=Math.floor(n),index in t.imageCache?t.image(s,a,index):(t.shadowApi.currentTime=index,t.image(s,a,index))},t.image=function(n,o,i){i in t.imageCache?(t.imageThumb.src=t.imageCache[i],e.env.thumbsOk=!0):4==parseInt(t.shadowApi.readyState)?(t.context.drawImage(t.shadowApi,0,0,n,o),dataURL=t.canvas.toDataURL(),null!=dataURL&&void 0!=dataURL&&(t.cache(i,dataURL),t.imageThumb.src=dataURL),e.env.thumbsOk=!0):setTimeout(function(){t.image(n,o,i)},70)},t.cache=function(e,n){return e in t.imageCache?t.imageCache[e]:(t.imageCache[e]=n,n)}},o.prototype._Ui=function(e){var t=this;t.create=function(){e.env.instance.length>0&&(e.env.instance.remove(),e.env.instance={});var o=e.Support.isMobile()===!0?"mobile":"computer";e.env.instance=n('<div class="julia-player julia-fullscreen-off julia-theme-'+e.options.theme+" julia-device-"+o+'" id="julia-player-'+e.env.ID+'"></div>'),e.env.model.shield=n('<div class="julia-shield" id="julia-shield-'+e.env.ID+'"></div>'),e.env.model.preloader=n('<div class="julia-preloader"><div class="julia-preloader-run"></div></div>'),e.env.model.suggest=n('<div class="julia-suggest" id="julia-suggest-'+e.env.ID+'"></div>'),e.env.model.toolbar=n('<div class="julia-toolbar" id="julia-toolbar-'+e.env.ID+'"></div>'),e.env.model.buttons.bigPlay=n('<button class="julia-btn julia-big-play"><i class="julia-icon julia-play-circle"></i></button>'),e.env.model.buttons.play=n('<button class="julia-btn julia-playback play">    <i class="julia-icon julia-play"></i></button>'),e.env.model.buttons.sound=n('<button class="julia-btn julia-sound on">    <i class="julia-icon julia-sound-on"></i></button>'),e.env.model.buttons.fullscreen=n('<button class="julia-btn julia-fullscreen-toggle on">    <i class="julia-icon julia-fullscreen"></i></button>'),e.env.model.ranges.volume=n('<div class="julia-volume">  <input type="range" value="'+e.options.volume+'" min="0" max="100" step="1" class="julia-range"></div>'),e.env.model.ranges.progress=n('<div class="julia-progress">  <input type="range" value="0" min="0" max="100" step="'+e.env.progressStep+'" class="julia-range"></div>'),e.env.model.panels.live=n('<div class="julia-panel julia-live-indicator">    <span>'+e.options.i18n.liveText+"</span></div>"),e.env.model.panels.currentTime=n('<div class="julia-panel julia-currentTime">    <span>00:00:00</span>&nbsp;/&nbsp;</div>'),e.env.model.panels.duration=n('<div class="julia-panel julia-duration">    <span>00:00:00</span></div>'),e.env.model.labels.goto=n('<div class="julia-label julia-label-goto">    <span>00:00:00</span></div>'),e.env.model.shield.append([e.env.model.preloader,e.env.model.buttons.bigPlay]),e.env.model.toolbar.append([e.env.model.ranges.progress,e.env.model.panels.live,e.env.model.panels.currentTime,e.env.model.panels.duration,e.env.model.buttons.play,e.env.model.buttons.sound,e.env.model.ranges.volume,e.env.model.buttons.fullscreen,e.env.model.labels.goto]),e.env.instance.append([e.env.model.shield,e.env.model.suggest,e.env.model.toolbar]),e.env.element.hide(),e.env.model.toolbar.hide(),e.env.model.buttons.bigPlay.hide(),e.Ui.state(e.env.model.preloader,"","on"),e.env.instance.insertAfter(e.env.element),e.env.fullscreenFrame=document.querySelector("#julia-player-"+e.env.ID),t.raiseEvent("julia.ui-ready"),e.Base.debug({playerInstance:e.env.instance})},t.raiseEvent=function(o){setTimeout(function(){1==n("#julia-player-"+e.env.ID).length?n("#julia-player-"+e.env.ID).trigger({type:o}):t.raiseEvent(o)},10)},t.icon=function(e,n,t){e.find("i").removeClass(n).addClass(t)},t.state=function(e,n,t){e.removeClass(n).addClass(t)},t.panel=function(e,n){e.find("span").text(n)},t.posterSet=function(){t.posterUnset(),e.env.model.poster.length>0&&(img=n('<img src="'+e.env.model.poster+'" width="100%" height="100%">'),e.env.model.shield.append(img),e.Base.debug({poster:e.env.model.poster}))},t.posterUnset=function(){e.env.model.shield.find("img").remove()}},o.prototype._Slider=function(e,t){var o=this,i=!1,s=navigator.userAgent,a=/chrome/i.exec(s),l=/android/i.exec(s),r="ontouchstart"in window&&!(a&&!l),u=function(e){return e>100?100:e<0?0:Math.round(100*e)/100},d=function(e){return u(e/(o.track.innerWidth()/100))},p=function(e){var n=r===!0?e.originalEvent.touches[0].pageX-o.model.offset().left:e.originalEvent.pageX-o.model.offset().left;return percent=d(n),percent},c=function(e){var n=r===!0?e.originalEvent.touches[0].pageX-o.model.offset().left:e.originalEvent.pageX-o.model.offset().left;return n},v=n('<div class="julia-slider"><div class="julia-slider-track" data-julia-slider-component="track"></div><div class="julia-slider-handle" data-julia-slider-component="handle"></div><div class="julia-slider-fill" data-julia-slider-component="fill"></div></div>');return o.model=v.clone(),o.track=o.model.find('[data-julia-slider-component="track"]'),o.handle=o.model.find('[data-julia-slider-component="handle"]'),o.fill=o.model.find('[data-julia-slider-component="fill"]'),o.options={element:{},value:0,originVisible:!1,eventRise:"",overcall:function(){}},n.extend(!0,o.options,t),o.elem="object"==typeof o.options.element?o.options.element:n(o.options.element.toString()),o.value=o.options.value,o.init=function(){["input"].lastIndexOf(o.elem.prop("tagName").toLowerCase())>-1&&(o.value=u(o.elem.val())),o.options.originVisible===!1?o.elem.hide().after(o.model):o.elem.after(o.model),o.slide(o.value,!0)},o.update=function(e){i===!1&&o.slide(e,!0)},o.slide=function(e,n){"undefined"==typeof n&&(n=!1),o.value=u(e);var t=o.track.innerWidth()/100*o.value;o.handle.css({left:t+"px"}),o.fill.css({width:t+2+"px"}),o.respond(e,n)},o.respond=function(t,i){"undefined"==typeof i&&(i=!1),["input"].lastIndexOf(o.elem.prop("tagName").toLowerCase())>-1&&(o.elem.val(o.value),i===!1&&n("#julia-player-"+e.env.ID).trigger({type:"julia."+o.options.eventRise,percent:t})),o.track.innerWidth(o.model.innerWidth()-o.handle.innerWidth())},o.getValue=function(){return o.value},o.sliding=function(){return i},o.fill.on("click ",function(e){o.slide(p(e),!1)}),o.track.on("click",function(e){o.slide(p(e),!1)}),o.model.on("click mouseover mousemove mouseout",function(n){"click"==n.type&&o.slide(p(n),!1),"mouseover"!=n.type&&"mousemove"!=n.type||"progress-change"!=o.options.eventRise||(pos=p(n),pix=c(n),e.env.thumbsOk===!0&&e.Support.isMobile()===!1&&e.options.live===!1&&e.options.thumbs===!0&&e.Api.thumb(e.Timecode.toSeconds(pos)),e.Ui.state(e.env.model.labels.goto,"","on"),e.Ui.panel(e.env.model.labels.goto,e.Timecode.toHuman(e.Timecode.toSeconds(pos))),left=pix+"px",border=e.env.model.labels.goto.innerWidth()/2,pix<border&&(left=border+"px"),pix>o.model.innerWidth()-border-10&&(left=o.model.innerWidth()-border+"px"),e.env.model.labels.goto.css({left:left,"margin-left":-(e.env.model.labels.goto.innerWidth()/2)+"px"})),"mouseout"==n.type&&"progress-change"==o.options.eventRise&&e.Ui.state(e.env.model.labels.goto,"on","")}),o.model.on("mousedown touchstart",function(e){"touchstart"==e.type&&o.slide(p(e),!1),i=!0}),n(document).on("mouseup touchend",function(e){i=!1}),n(document).on("mousemove touchmove",function(e){i===!0&&o.slide(p(e))}),o},o.prototype._Events=function(e){var t=this;t.ui=function(){e.env.model.toolbar.on("contextmenu",function(e){e.preventDefault()}).on("click",".julia-playback.play",function(n){n.preventDefault(),e.Controls.press("play")}).on("click",".julia-playback.pause",function(n){n.preventDefault(),e.Controls.press("pause")}).on("click",".julia-sound.on",function(n){n.preventDefault(),e.Controls.press("sound-off")}).on("click",".julia-sound.off",function(n){n.preventDefault(),e.Controls.press("sound-on")}).on("click",".julia-fullscreen-toggle.on",function(n){n.preventDefault(),e.Controls.press("fullscreen-on")}).on("click",".julia-fullscreen-toggle.off",function(n){n.preventDefault(),e.Controls.press("fullscreen-off")}),e.env.model.shield.on("click contextmenu",".julia-big-play",function(n){n.preventDefault(),n.stopPropagation(),"click"==n.type&&(e.env.started===!1&&(e.Ui.state(e.env.model.preloader,"","on"),e.Loader.init()),e.Controls.press("play"))}),e.env.model.shield.on("dblclick click contextmenu",function(n){n.preventDefault(),n.stopPropagation(),"click"==n.type&&(e.options.pauseOnClick===!0&&e.Support.isMobile()===!1&&e.env.started===!0&&(e.env.api.paused===!1?e.Controls.press("pause"):e.Controls.press("play")),e.env.started===!1&&(e.Ui.state(e.env.model.preloader,"","on"),e.Loader.init(),e.Controls.press("play"))),"dblclick"==n.type&&(e.env.instance.hasClass("julia-fullscreen-on")?e.Controls.press("fullscreen-off"):e.Controls.press("fullscreen-on"))});var t;e.env.instance.on("mousemove touchmove","#julia-shield-"+e.env.ID+", #julia-suggest-"+e.env.ID,function(n){n.preventDefault(),e.env.model.toolbar.addClass("julia-toolbar-visible"),clearTimeout(t),t=setTimeout(function(){e.env.model.toolbar.removeClass("julia-toolbar-visible")},1750)}).on("mouseover mousemove touchmove mouseout","#julia-toolbar-"+e.env.ID+".julia-toolbar-visible",function(n){n.preventDefault(),e.env.model.toolbar.addClass("julia-toolbar-visible"),clearTimeout(t),["mouseout","touchend"].lastIndexOf(n.type.toLowerCase())>-1&&(t=setTimeout(function(n){e.env.model.toolbar.removeClass("julia-toolbar-visible")},1750))}),n("body").on("julia.progress-change","#julia-player-"+e.env.ID,function(n,t){seekTo=e.Timecode.toSeconds(n.percent),seekTo=seekTo>=e.env.duration?e.env.duration:seekTo.toFixed(2),e.Controls.press("goto",{currentTime:seekTo})}),n("body").on("julia.volume-change","#julia-player-"+e.env.ID,function(n,t){e.Controls.press("volume",{volume:n.percent})}),n(window).on("resize",function(){e.Support.resize()})},t.native=function(){e.Support.forceReady()===!0&&e.env.isHls===!0?e.Api.canplaythrough():e.env.api.oncanplaythrough=function(n){e.env.duration=e.env.api.duration,e.env.started===!1&&e.env.api.readyState>=3&&e.Api.allowStart(n)},e.env.api.onplay=function(n){e.Ui.state(e.env.model.buttons.play,"play","pause"),e.Ui.icon(e.env.model.buttons.play,"julia-play","julia-pause"),e.env.model.buttons.bigPlay.hide(),e.Ui.posterUnset(),e.env.model.toolbar.show()},e.env.api.onplaying=function(n){e.Ui.state(e.env.model.buttons.play,"play","pause"),e.Ui.icon(e.env.model.buttons.play,"julia-play","julia-pause"),e.env.model.buttons.bigPlay.hide(),e.env.model.suggest.html(""),e.Ui.state(e.env.model.suggest,"on",""),e.env.model.toolbar.show(),e.Controls.press("setDuration",{duration:e.Timecode.toHuman(e.env.duration)}),e.env.started=!0},e.env.api.onpause=function(n){e.Ui.state(e.env.model.buttons.play,"pause","play"),e.Ui.icon(e.env.model.buttons.play,"julia-pause","julia-play"),setTimeout(function(){e.env.api.paused===!0&&e.env.model.buttons.bigPlay.show()},350)},e.env.api.onerror=function(e){},e.env.api.onemptied=function(e){},e.env.api.onstalled=function(e){},e.env.api.onsuspend=function(e){},e.env.api.onloadeddata=function(e){},e.env.api.oncanplaythrough=function(e){},e.env.api.ontimeupdate=function(n){currentTimeReadable=e.Timecode.toHuman(e.env.api.currentTime.toFixed(2)),e.env.seeking===!1&&(e.env.model.sliders.progress.update(e.Timecode.toPercents(e.env.api.currentTime)),e.Ui.panel(e.env.model.panels.currentTime,currentTimeReadable),e.Ui.state(e.env.model.preloader,"on","")),e.Callback.onTime(currentTimeReadable,e.env.api.currentTime),e.options.debugPlayback===!0&&e.Base.debug({"duration/current":e.env.duration+"/"+e.env.api.currentTime.toFixed(2)+" > "+currentTimeReadable})},e.env.api.onseeked=function(n){e.env.seeking=!1},e.env.api.onseeking=function(n){e.Ui.state(e.env.model.preloader,"","on"),e.env.seeking=!0},e.env.api.onvolumechange=function(n){e.env.api.muted===!1?e.env.model.sliders.volume.update(100*e.env.api.volume):e.env.model.sliders.volume.update(0)},e.env.api.ondurationchange=function(n){isNaN(e.env.api.duration)||(e.env.duration=e.env.api.duration,e.env.started===!1&&(e.env.seeking=!1),e.Base.debug({duration:e.env.duration,readyState:e.env.api.readyState,started:e.env.started}))},e.env.api.onended=function(n){e.Suggest.run()},n(window).on("blur",function(){e.options.pauseOnBlur===!0&&e.env.api.paused===!1&&e.env.started===!0&&e.Controls.press("pause")})},t.hlsLibEvents=function(){e.env.hls.on(Hls.Events.ERROR,function(n,t){switch(t.details){case Hls.ErrorDetails.MANIFEST_LOAD_ERROR:case Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT:case Hls.ErrorDetails.MANIFEST_PARSING_ERROR:e.Api.shadowApi=!1,e.options.muted=e.env.api.muted,e.env.started=!1,e.options.source=e.options.tempSource,e.Api.source(),e.options.autoplay=!0,e.Ui.panel(e.env.model.panels.live,e.options.i18n.liveText),e.env.model.buttons.bigPlay.click();break;case Hls.ErrorDetails.LEVEL_LOAD_ERROR:case Hls.ErrorDetails.LEVEL_LOAD_TIMEOUT:case Hls.ErrorDetails.LEVEL_SWITCH_ERROR:case Hls.ErrorDetails.FRAG_LOAD_ERROR:case Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case Hls.ErrorDetails.FRAG_LOAD_TIMEOUT:case Hls.ErrorDetails.FRAG_DECRYPT_ERROR:case Hls.ErrorDetails.FRAG_PARSING_ERROR:case Hls.ErrorDetails.BUFFER_APPEND_ERROR:case Hls.ErrorDetails.BUFFER_APPENDING_ERROR:if(e.Base.debug({recoveringError:t.details,errorType:t.type,errorFatal:t.fatal,data:t}),t.fatal===!0)switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:Hls.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:Hls.recoverMediaError();break;default:Hls.startLoad()}}})},t.dashLibEvents=function(){e.env.dash.on(dashjs.MediaPlayer.events,function(n,t){switch(t.details){case dashjs.MediaPlayer.events.ERROR:e.Base.debug({recoveringError:dashjs.MediaPlayer.events.ERROR})}})}},o.prototype._Controls=function(e){var n=this;n.press=function(n,t){switch(t=t||{},e.Base.debug({action:n,"action-data":t}),n){case"play":e.options.onPlay!==!1&&e.Callback.fn(e.options.onPlay,t),e.env.model.buttons.bigPlay.hide(),e.env.api.play();break;case"pause":e.options.onPause!==!1&&e.Callback.fn(e.options.onPause,t),e.env.api.pause();break;case"stop":e.options.onStop!==!1&&e.Callback.fn(e.options.onStop,t),e.env.api.pause(),e.env.api.currentTime=0,e.Ui.state(e.env.model.buttons.play,"pause","play"),e.Ui.icon(e.env.model.buttons.play,"julia-pause","julia-play"),e.env.model.buttons.bigPlay.show(),e.env.model.sliders.progress.update(0);break;case"goto":e.Ui.state(e.env.model.preloader,"","on"),e.env.api.currentTime=t.currentTime,e.options.onPosition!==!1&&e.Callback.fn(e.options.onPosition,t);break;case"setDuration":e.Ui.panel(e.env.model.panels.duration,t.duration),e.env.started===!1&&e.env.model.sliders.progress.update(0),e.Base.debug({setDuration:t.duration});break;case"volume":e.options.volume=t.volume,e.env.api.volume=t.volume/100,e.Base.debug({"volume is":e.env.api.volume}),e.env.model.sliders.volume.update(t.volume),t.volume>0?e.Controls.press("sound-on"):e.Controls.press("sound-off");break;case"sound-on":e.env.api.muted=!1,e.options.muted=!1,e.Persist.set("julia-player-volume",e.options.volume,999),e.Persist.set("julia-player-muted",e.options.muted,999),e.Ui.state(e.env.model.buttons.sound,"off","on"),e.Ui.icon(e.env.model.buttons.sound,"julia-sound-off","julia-sound-on");break;case"sound-off":e.env.api.muted=!0,e.options.muted=!0,e.Persist.set("julia-player-volume",e.options.volume,999),e.Persist.set("julia-player-muted",e.options.muted,999),e.Ui.state(e.env.model.buttons.sound,"on","off"),e.Ui.icon(e.env.model.buttons.sound,"julia-sound-on","julia-sound-off");break;case"fullscreen-on":e.Fullscreen.reset(e.env.instance,e.env.model,e.env.api),e.Fullscreen.on(e.env.fullscreenFrame);break;case"fullscreen-off":e.Fullscreen.reset(e.env.instance,e.env.model,e.env.api),e.Fullscreen.off()}}},o.prototype._Support=function(e){var t=this;t.aspect=function(e,n){return e>0&&n>0?n/e:0},t.isMobile=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile/i.test(navigator.userAgent)},t.iOS=function(){return!(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream)},t.forceReady=function(){return!!/Firefox/i.test(navigator.userAgent)},t.canPlayMedia=function(){var t=document.createElement("video");return t.id="video-cap-test-"+e.env.ID,e.env.canPlayMediaString=t.canPlayType("application/vnd.apple.mpegURL"),n("#video-cap-test"+e.env.ID).remove(),"probably"==e.env.canPlayMediaString||"maybe"==e.env.canPlayMediaString},t.resize=function(){defaultDim=e.env.element.width()?[e.env.element.width(),e.env.element.height()]:[e.options.width,e.options.height],dimensions=e.options.responsive===!0?t.getSize():defaultDim,e.Base.debug({resizeDefaults:defaultDim,resize:dimensions}),e.env.instance.width(dimensions[0]),e.env.instance.height(dimensions[1]),e.env.dimensions.width=dimensions[0],e.env.dimensions.height=dimensions[1],e.env.api.setAttribute("width","100%"),e.env.api.setAttribute("height","100%")},t.getSize=function(){var n=e.env.element.parent().css("display").toLowerCase();"inline"==n&&e.env.element.parent().css({display:"block"});var o=e.env.element.parent().width(),s=t.aspect(parseInt(e.env.element.css("width")),parseInt(e.env.element.css("height")));for(i in e.options.dimensions){var a=e.options.dimensions[i];if(o>=a[0])return s=t.aspect(a[0],a[1]),dimensions=[a[0],a[0]*s],e.Base.debug({resizePredefined:dimensions}),dimensions}return dimensions=[o,o*s],e.Base.debug({resizeFallback:dimensions}),dimensions}},o.prototype._Suggest=function(e){var t=this;t.run=function(){if(e.env.model.suggest.html(""),e.Controls.press("stop"),e.env.suggestClicked=!1,e.options.suggest.length>0){x=0;for(var t in e.options.suggest)if(x<e.options.suggestLimit&&e.options.suggest[t].played===!1){mode=e.options.suggest[t].live&&e.options.suggest[t].live===!0?"live":"vod",liveText=e.options.suggest[t].liveText?e.options.suggest[t].liveText:"Live";var o=e.options.suggest[t].poster?e.options.suggest[t].poster:"";posterImage=o.length>0?'<img src="'+o+'" width="100%" height="100%">':"",suggestItemWidget=n('<div class="julia-suggest-item" data-poster="'+o+'" data-source="'+e.options.suggest[t].source+'" data-mode="'+mode+'" data-live-text="'+liveText+'" data-index="'+t+'">'+posterImage+'<div class="julia-suggest-item-title">'+e.options.suggest[t].title+"</div></div>"),suggestItemWidget.on("click",function(o){e.options.onSuggest!==!1&&e.Callback.fn(e.options.onSuggest,e.options.suggest[t]),e.Api.shadowApi=!1,e.options.muted=e.env.api.muted,e.options.poster=n(this).data("poster"),e.env.suggestClicked=!0,e.env.model.buttons.bigPlay.hide(),e.env.started=!1,e.options.source=n(this).data("source"),e.Api.source(),e.options.autoplay=!0,e.options.live="live"==n(this).data("mode"),e.options.i18n.liveText=n(this).data("live-text"),e.Ui.panel(e.env.model.panels.live,e.options.i18n.liveText),e.Base.debug({suggestRemoveIndex:n(this).data("index"),suggestRemove:n(this).data("source")}),e.options.suggest[n(this).data("index")].played=!0,e.Ui.state(e.env.model.suggest,"on",""),e.env.model.buttons.bigPlay.click()}),e.env.model.suggest.append(suggestItemWidget),x++}x>0&&(e.options.suggestTimeout>0&&e.Support.isMobile()===!1&&setTimeout(function(){e.env.suggestClicked===!1&&e.env.model.suggest.find("div.julia-suggest-item:first").click()},e.options.suggestTimeout),e.Ui.state(e.env.model.suggest,"","on"))}else e.Fullscreen.off();e.Base.debug({Suggest:"raised"})}},o.prototype._Fullscreen=function(e){var t=this;t.on=function(n){n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():e.Base.debug({fullscreen:"Fullscreen is not supported"})},t.off=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},t.reset=function(t,o,i){n(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange"),n(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(n){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(e.Ui.state(t,"julia-fullscreen-off","julia-fullscreen-on"),e.Ui.state(o.buttons.fullscreen,"on","off"),e.Ui.icon(o.buttons.fullscreen,"julia-fullscreen","julia-fullscreen-exit"),e.Support.isMobile()&&(screen.orientation.lock("landscape-primary"),screen.msLockOrientation.lock("landscape-primary"),screen.mozLockOrientation.lock("landscape-primary")),e.Base.debug({"fullscreen on":"#julia-player-"+e.env.ID})):(e.Ui.state(t,"julia-fullscreen-on","julia-fullscreen-off"),e.Ui.state(o.buttons.fullscreen,"off","on"),e.Ui.icon(o.buttons.fullscreen,"julia-fullscreen-exit","julia-fullscreen"),e.Support.isMobile()&&(screen.orientation.unlock(),screen.msLockOrientation.unlock(),screen.mozLockOrientation.unlock()),e.Base.debug({"fullscreen off":"#julia-player-"+e.env.ID})),e.Support.resize(),setTimeout(function(){w=e.env.api.getAttribute("width"),e.env.instance.find(".julia-progress").width(w),e.env.instance.find(".julia-progress .julia-slider-track").width(w),o.sliders.progress.update(e.Timecode.toPercents(i.currentTime))},5)})}},o.prototype._Persist=function(e){var n=this;n.set=function(e,n,t){dateObj=new Date,dateObj.setTime(dateObj.getTime()+24*t*60*60*1e3);var o="expires="+dateObj.toUTCString();document.cookie=e+"="+n+"; "+o+"; path=/"},n.get=function(e){for(var e=e+"=",n=document.cookie.split(";"),t=0;t<n.length;t++){for(var o=n[t];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}}},o.prototype._Timecode=function(e){var n=this;n.toPercents=function(n){return p=n/e.env.duration*100,p},n.toSeconds=function(n){return t=e.env.duration/100*n,t},n.toNum=function(e){return e=e.split(":"),e.reverse(),s=parseInt(e[0]),m=e.length>1?parseInt(e[1]):0,h=e.length>2?parseInt(e[3]):0,t=s+60*m+60*h*60,t},n.toHuman=function(e){return e=e.toString().split("."),s=e[0],H=Math.floor(s/3600),M=Math.floor((s-3600*H)/60),S=Math.floor(s-3600*H-60*M),H=("0"+H.toString()).slice(-2),M=("0"+M.toString()).slice(-2),S=("0"+S.toString()).slice(-2),str=H>0?H+":"+M+":"+S:M+":"+S,str}},o.prototype._Callback=function(e){var t=this;t.fn=function(t,o){o=o||{},n.inArray(typeof t,["string","function","object"])>-1?("string"==typeof t&&(t=window[t]),t(e.options,e.env,o),e.Base.debug({Callback:typeof t+" raised"})):e.Base.debug({Callback:typeof t+" is not a function, but: "+typeof t})},t.onTime=function(t,o){t in e.options.onTime&&e.env.onTimeRised.indexOf(t)==-1&&(f=e.options.onTime[t],e.env.onTimeRised.push(t),n.inArray(typeof f,["string","function","object"])>-1?("string"==typeof f&&(f=window[f]),f(e.options,e.env,t),e.Base.debug({"Callback onTime":t+" "+typeof f+" raised"})):e.Base.debug({"Callback onTime":t+" "+typeof f+" is not a function, but: "+typeof f}))}},o.prototype._Inject=function(e){var t=this;t.swap=function(n,t){e.env.memory={currentTime:e.env.api.currentTime,src:n},e.env.api.src=t,e.env.api.src=currentTime=0,e.env.api.play()},t.source=function(t){e.Api.shadowApi=!1,n("#julia-player-"+e.env.ID).remove(),e.env.started=!1,n.extend(!0,e.options,t),e.Boot.run(),e.options.live===!0?(e.env.isLive=!0,e.Ui.panel(e.env.model.panels.live,e.options.i18n.liveText),e.Ui.state(e.env.model.toolbar,"","live")):(e.env.isLive=!1,e.Ui.panel(e.env.model.panels.live,""),e.Ui.state(e.env.model.toolbar,"live","")),e.Ui.state(e.env.model.preloader,"on",""),e.options.autoplay===!0&&e.Support.isMobile()===!1?e.env.model.buttons.bigPlay.click():e.env.model.buttons.bigPlay.show()}},o.prototype._Require=function(e){var t=this;t.js=function(e){if("string"==typeof e&&(e=[e]),0==e.length)t.raiseEvent("julia.no-plugins");else{var n=e[e.length-1];t.load(e,0,n)}},t.raiseEvent=function(o){setTimeout(function(){1==n("#julia-player-"+e.env.ID).length?n("#julia-player-"+e.env.ID).trigger({type:o}):t.raiseEvent(o)},20)},t.load=function(o,i,s){var a=o[i];e.Base.debug({"Require-js request":a}),n.getScript(a).done(function(){e.Base.debug({"Require-js loaded":a}),s==a?t.raiseEvent("julia.plugins-loaded"):t.load(o,i+1,s)})},t.css=function(e){"string"==typeof e&&(e=[e]);for(i in e)n("head").append(n('<link rel="stylesheet" type="text/css" href="'+e[i]+'">'))}},o.prototype._Boot=function(e){
var n=this;n.run=function(){e.Base.debug(e.options),e.env.element=e.options.element;for(i in e.options.suggest)e.options.suggest[i].played=!1;e.env.hls!==!1&&(e.env.hls.destroy(),e.env.hls=!1),e.env.dash!==!1&&(e.env.dash.reset(),e.env.dash=!1),e.Ui.create(),e.Api.source(),e.Api.create()}},o.prototype._Loader=function(e){var n=this;n.init=function(){e.env.api.src="",e.env.useHlsLib=!1,e.env.isLive=!1,e.env.canPlayMedia=e.Support.canPlayMedia(),e.env.isHls===!0&&(e.env.useHlsLib=!0),e.env.useHlsLib===!0?e.env.hls=new Hls(e.options.hlsConfig):e.env.isDash===!0||(e.env.api.src=e.env.source),e.options.live===!0?(e.env.isLive=!0,e.Ui.state(e.env.model.toolbar,"","live")):(e.env.isLive=!1,e.Ui.state(e.env.model.toolbar,"live","")),e.env.useHlsLib===!0?(e.Events.hlsLibEvents(),e.env.hls.autoLevelCapping=-1,e.env.hls.attachMedia(e.env.api),e.env.hls.loadSource(e.env.source),e.env.hls.on(Hls.Events.MEDIA_ATTACHED,function(n,t){e.env.hls.on(Hls.Events.LEVEL_LOADED,function(e,n){});for(x in e.options.triggerHls)handle=e.options.triggerHls[x],"function"==typeof window[handle]?e.env.hls.on(Hls.Events[x],function(n,t){window[handle](e.env.apiId,n,t)}):e.Base.debug({triggerHlsError:handle+" is not a function"})})):e.env.isDash===!0?(e.env.dash=dashjs.MediaPlayer().create(),e.env.dash.initialize(),e.env.dash.attachView(e.env.api),e.env.dash.attachSource(e.env.source),e.env.dash.setAutoPlay(e.options.autoplay),e.options.debug===!1&&e.env.dash.getDebug().setLogToBrowserConsole(!1),e.Events.dashLibEvents()):e.env.api.load(),e.Ui.state(e.env.model.preloader,"","on"),e.Api.allowStart({type:"origin.Loader"})}},function(e){e.extend({juliaPlayer:function(e){return new a(e)}})}(n),jQuery.fn.juliaPlayer=function(e){return this.play=function(){n(this).data("juliaplayer").Controls.press("play")},this.setOptions=function(e){n.extend(!0,n(this).data("juliaplayer").options,e)},this.options=function(){return n(this).data("juliaplayer").options},this.source=function(e){n(this).data("juliaplayer").Inject.source(e)},this.api=function(){return n(this).data("juliaplayer").api},this.pause=function(){n(this).data("juliaplayer").Controls.press("pause")},this.stop=function(){n(this).data("juliaplayer").Controls.press("stop")},this.goto=function(e){n(this).data("juliaplayer").Controls.press("goto",{currentTime:e})},this.mute=function(){n(this).data("juliaplayer").api.muted===!1?n(this).data("juliaplayer").Controls.press("sound-off"):n(this).data("juliaplayer").Controls.press("sound-on")},this.volume=function(e){n(this).data("juliaplayer").Controls.press("volume",{volume:e})},this.getID=function(){return n(this).data("juliaplayer").ID},this.stats=function(){return n(this).data("juliaplayer").stats()},this.each(function(){if(!n(this).data("juliaplayer")){e="undefined"==typeof e?{}:e,e.element=n(this);var t=new o(e);n(this).data("juliaplayer",t)}})}});